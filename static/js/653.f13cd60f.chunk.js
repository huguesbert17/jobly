"use strict";(self.webpackChunkjobly=self.webpackChunkjobly||[]).push([[653],{653:function(e,n,t){t.r(n);var r=t(439),a=t(791),s=t(687),c=t(590),o=t(91),i=t(184);n.default=function(e){var n,t=(0,a.useState)(),l=(0,r.Z)(t,2),u=l[0],d=l[1],m=(0,a.useRef)(),h=(0,o.Z)().applyToJob,p=(0,a.useContext)(c.Z).user;null!==p&&void 0!==p&&p.isLogged||(window.location.href="https://huguesbert17.github.io/jobly");var b=function(){e.company||s.Z.getJobs().then((function(e){return d(e)})),e.company&&s.Z.getCompanyJobs(e.company).then((function(e){return d(e)}))};(0,a.useEffect)((function(){null!==p&&void 0!==p&&p.isLogged&&b()}),[null===p||void 0===p?void 0:p.isLogged]);return u?(0,i.jsxs)("div",{className:"row flex-column",style:{gap:"1rem"},children:[(0,i.jsx)("div",{className:"col-11 col-md-5 mx-auto mb-3 sticky-top p-0",style:{top:"5em"},children:(0,i.jsxs)("div",{className:"input-group",children:[(0,i.jsx)("input",{onChange:function(n){s.Z.getJobs(n.target.value).then((function(e){return d(e)})),e.company&&s.Z.getCompanyJobs(e.company,n.target.value).then((function(e){return d(e)}))},type:"text",ref:m,className:"form-control",placeholder:"Search job","aria-label":"Search job","aria-describedby":"sercch"}),(0,i.jsx)("div",{className:"input-group-append",children:(0,i.jsx)("button",{onClick:function(){""!==m.current.value&&(s.Z.getJobs(m.current.value).then((function(e){return d(e)})),e.company&&s.Z.getCompanyJobs(e.company,m.current.value).then((function(e){return d(e)})))},className:"btn btn-primary",id:"search",style:{borderRadius:"0 0.375rem 0.375rem 0"},children:"Search"})})]})}),!(u||!u.length)&&(null===(n=m.current)||void 0===n?void 0:n.value)&&(0,i.jsxs)("div",{className:"text-center mt-3",children:[(0,i.jsx)("h1",{children:"No jobs for this search term"}),(0,i.jsx)("button",{className:"btn btn-inverse-primary",onClick:function(){m.current.value="",b()},children:"Clear search"})]}),u.map((function(e,n){var t=p.myJobs.filter((function(n){return n.toString()===e.id.toString()}));return(0,i.jsxs)("div",{className:"col-11 col-md-5 mx-auto card",children:[(0,i.jsx)("h5",{className:"card-header",children:e.title}),(0,i.jsxs)("div",{className:"card-body",children:[(0,i.jsxs)("h5",{className:"card-title",children:["Company: ",e.companyName]}),(0,i.jsxs)("p",{className:"card-text",children:["Salary: $",e.salary]}),(0,i.jsxs)("p",{className:"card-text",children:["Equity: ",e.equity?e.equity:0]}),(0,i.jsx)("div",{className:"text-end",children:(0,i.jsx)("button",{className:"btn btn-primary",disabled:t.length,onClick:function(){return n=e.id,void h(n);var n},children:t.length?"Applied":"Apply to job"})})]})]},n)}))]}):(0,i.jsx)(i.Fragment,{})}}}]);
//# sourceMappingURL=653.f13cd60f.chunk.js.map